/*!
 * FixedHeader 4.0.4
 * Â© SpryMedia Ltd - datatables.net/license
 */
!function(t){if('function'==typeof define&&define.amd)define(['jquery','datatables.net'],function(e){return t(e,window,document)});else if('object'==typeof exports){var e=require('jquery'),o=function(t,e){e.fn.dataTable||require('datatables.net')(t,e)};'undefined'==typeof window?module.exports=function(i,s){return i||(i=window),s||(s=e(i)),o(i,s),t(s,i,i.document)}:(o(window,e),module.exports=t(e,window,window.document))}else t(jQuery,window,document)}(function(t,e,o){'use strict';var i=t.fn.dataTable,s=0,r=function(o,d){if(!i.versionCheck('2'))throw'Warning: FixedHeader requires DataTables 2 or newer';if(!(this instanceof r))throw'FixedHeader must be initialised with the \'new\' keyword.';!0===d&&(d={}),o=new i.Api(o),this.c=t.extend(!0,{},r.defaults,d),this.s={dt:o,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:t(e).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:o.settings()[0].oFeatures.bAutoWidth,namespace:'.dtfc'+s++,scrollLeft:{header:-1,footer:-1},enable:!0,autoDisable:!1},this.dom={floatingHeader:null,thead:t(o.table().header()),tbody:t(o.table().body()),tfoot:t(o.table().footer()),header:{host:null,scrollAdjust:null,floating:null,floatingParent:t('<div class="dtfh-floatingparent"><div class="dtfh-floating-limiter"><div></div></div></div>'),limiter:null,placeholder:null},footer:{host:null,scrollAdjust:null,floating:null,floatingParent:t('<div class="dtfh-floatingparent"><div class="dtfh-floating-limiter"><div></div></div></div>'),limiter:null,placeholder:null}};var a=this.dom;a.header.host=a.thead.parent(),a.header.limiter=a.header.floatingParent.children(),a.header.scrollAdjust=a.header.limiter.children(),a.footer.host=a.tfoot.parent(),a.footer.limiter=a.footer.floatingParent.children(),a.footer.scrollAdjust=a.footer.limiter.children();var f=o.settings()[0];if(f._fixedHeader)throw'FixedHeader already initialised on table '+f.nTable.id;f._fixedHeader=this,this._constructor()};return t.extend(r.prototype,{destroy:function(){var o=this.dom;this.s.dt.off('.dtfc'),t(e).off(this.s.namespace),o.header.rightBlocker&&o.header.rightBlocker.remove(),o.header.leftBlocker&&o.header.leftBlocker.remove(),o.footer.rightBlocker&&o.footer.rightBlocker.remove(),o.footer.leftBlocker&&o.footer.leftBlocker.remove(),this.c.header&&this._modeChange('in-place','header',!0),this.c.footer&&o.tfoot.length&&this._modeChange('in-place','footer',!0)},enable:function(t,e,o){this.s.enable=t,this.s.enableType=o,(e||void 0===e)&&(this._positions(),this._scroll(!0))},enabled:function(){return this.s.enable},headerOffset:function(t){return void 0!==t&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return void 0!==t&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(e){var o=this.s.dt.table().node();(this.s.enable||this.s.autoDisable)&&(t(o).is(':visible')?(this.s.autoDisable=!1,this.enable(!0,!1)):(this.s.autoDisable=!0,this.enable(!1,!1)),0!==t(o).children('thead').length&&(this._positions(),this._scroll(void 0===e||e),this._widths(this.dom.header),this._widths(this.dom.footer)))},_constructor:function(){var o=this,s=this.s.dt;t(e).on('scroll'+this.s.namespace,function(){o._scroll()}).on('resize'+this.s.namespace,i.util.throttle(function(){o.s.position.windowHeight=t(e).height(),o.update()},50));var r=t('.fh-fixedHeader');!this.c.headerOffset&&r.length&&(this.c.headerOffset=r.outerHeight());var d=t('.fh-fixedFooter');!this.c.footerOffset&&d.length&&(this.c.footerOffset=d.outerHeight()),s.on('column-reorder.dt.dtfc column-visibility.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc',function(t,e){o.update()}).on('draw.dt.dtfc',function(t,e){o.update(e!==s.settings()[0])}),s.on('destroy.dtfc',function(){o.destroy()}),this._positions(),this._scroll()},_clone:function(e,o){var i=this,s=this.s.dt,r=this.dom[e],d='header'===e?this.dom.thead:this.dom.tfoot;if('footer'!==e||!this._scrollEnabled())if(!o&&r.floating)r.floating.removeClass('fixedHeader-floating fixedHeader-locked');else{r.floating&&(null!==r.placeholder&&r.placeholder.detach(),r.floating.detach());var a=t(s.table().node()),f=t(a.parent()),n=this._scrollEnabled();r.floating=t(s.table().node().cloneNode(!1)).attr('aria-hidden','true').css({top:0,left:0}).removeAttr('id'),r.floatingParent.css({width:f[0].offsetWidth,position:'fixed',left:n?a.offset().left+f.scrollLeft():0}).css('header'===e?{top:this.c.headerOffset,bottom:''}:{top:'',bottom:this.c.footerOffset}).addClass('footer'===e?'dtfh-floatingparent-foot':'dtfh-floatingparent-head').appendTo('body').children().eq(0),r.limiter.css({width:'100%',overflow:'hidden',height:'fit-content'}),r.scrollAdjust.append(r.floating),this._stickyPosition(r.floating,'-');var l=function(){var t=f.scrollLeft();i.s.scrollLeft={footer:t,header:t},r.limiter.scrollLeft(i.s.scrollLeft.header)};l(),f.off('scroll.dtfh').on('scroll.dtfh',l),r.scrollAdjust.css({width:'fit-content',paddingRight:i.s.dt.settings()[0].oBrowser.barWidth});let o=t('footer'===e?'div.dtfc-bottom-blocker':'div.dtfc-top-blocker',s.table().container());o.length&&o.clone().appendTo(r.floatingParent).css({position:'fixed',right:o.width()}),r.placeholder=d.clone(!1),r.placeholder.find('*[id]').removeAttr('id'),r.host.prepend(r.placeholder),r.floating.append(d),this._widths(r)}},_stickyPosition:function(e,o){if(this._scrollEnabled()){var i='rtl'===t(this.s.dt.table().node()).css('direction');e.find('th').each(function(){if('sticky'===t(this).css('position')){var e,o=t(this).css('right'),s=t(this).css('left');'auto'===o||i?'auto'!==s&&i&&(e=+s.replace(/px/g,''),t(this).css('left',e>0?e:0)):(e=+o.replace(/px/g,''),t(this).css('right',e>0?e:0))}})}},_horizontal:function(e,o){var i=this.dom[e],s=this.s.scrollLeft;if(i.floating&&s[e]!==o){if(this._scrollEnabled()){var r=t(t(this.s.dt.table().node()).parent()).scrollLeft();i.floating.scrollLeft(r),i.floatingParent.scrollLeft(r)}s[e]=o}},_modeChange:function(i,s,r){var d=this.s.dt,a=this.dom[s],f=this.s.position,n=this._scrollEnabled();if('footer'!==s||!n){var l=function(t){a.floating[0].style.setProperty('width',t+'px','important'),n||a.floatingParent[0].style.setProperty('width',t+'px','important')},h=this.dom['footer'===s?'tfoot':'thead'],c=t.contains(h[0],o.activeElement)?o.activeElement:null,p=t(t(this.s.dt.table().node()).parent());if('in-place'===i)a.placeholder&&(a.placeholder.remove(),a.placeholder=null),t.contains(a.host[0],h[0])||('header'===s?a.host.prepend(h):a.host.append(h)),a.floating&&(a.floating.remove(),a.floating=null,this._stickyPosition(a.host,'+')),a.floatingParent&&(a.floatingParent.find('div.dtfc-top-blocker').remove(),a.floatingParent.remove()),t(t(a.host.parent()).parent()).scrollLeft(p.scrollLeft());else if('in'===i){this._clone(s,r);var g,u=p.offset(),b=t(o).scrollTop(),m=b+t(e).height(),v=n?u.top:f.tbodyTop,H=n?u.top+p.outerHeight():f.tfootTop;g='footer'===s?v>m?f.tfootHeight:v+f.tfootHeight-m:b+this.c.headerOffset+f.theadHeight-H;var x='header'===s?'top':'bottom',w=this.c[s+'Offset']-(g>0?g:0);a.floating.addClass('fixedHeader-floating'),a.floatingParent.css(x,w).css({left:f.left,'z-index':3}),l(f.width),'footer'===s&&a.floating.css('top','')}else'below'===i?(this._clone(s,r),a.floating.addClass('fixedHeader-locked'),a.floatingParent.css({position:'absolute',top:f.tfootTop-f.theadHeight,left:f.left+'px'}),l(f.width)):'above'===i&&(this._clone(s,r),a.floating.addClass('fixedHeader-locked'),a.floatingParent.css({position:'absolute',top:f.tbodyTop,left:f.left+'px'}),l(f.width));c&&c!==o.activeElement&&setTimeout(function(){c.focus()},10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[s+'Mode']=i,d.trigger('fixedheader-mode',[i,s])}},_positions:function(){var e=this.s.dt,o=e.table(),i=this.s.position,s=this.dom,r=t(o.node()),d=this._scrollEnabled(),a=t(e.table().header()),f=t(e.table().footer()),n=s.tbody,l=r.parent();i.visible=r.is(':visible'),i.width=r.outerWidth(),i.left=r.offset().left,i.theadTop=a.offset().top,i.tbodyTop=d?l.offset().top:n.offset().top,i.tbodyHeight=d?l.outerHeight():n.outerHeight(),i.theadHeight=a.outerHeight(),i.theadBottom=i.theadTop+i.theadHeight,i.tfootTop=i.tbodyTop+i.tbodyHeight,f.length?(i.tfootBottom=i.tfootTop+f.outerHeight(),i.tfootHeight=f.outerHeight()):(i.tfootBottom=i.tfootTop,i.tfootHeight=0)},_scroll:function(i){if(!this.s.dt.settings()[0].bDestroying){var s,r,d=this._scrollEnabled(),a=t(this.s.dt.table().node()).parent(),f=a.offset(),n=a.outerHeight(),l=t(o).scrollLeft(),h=t(o).scrollTop(),c=t(e).height()+h,p=this.s.position,g=d?f.top:p.tbodyTop,u=d?f.left:p.left,b=d?f.top+n:p.tfootTop,m=d?a.outerWidth():p.tbodyWidth;if(this.c.header){if(this.s.enable)if(!p.visible||h+this.c.headerOffset+p.theadHeight<=g)s='in-place';else if(h+this.c.headerOffset+p.theadHeight>g&&h+this.c.headerOffset+p.theadHeight<b)if(s='in',h+this.c.headerOffset+p.theadHeight>b||void 0===this.dom.header.floatingParent)i=!0;else{var v=this.dom.header.floatingParent.css({top:this.c.headerOffset,position:'fixed'}).children().eq(0);0===v.find(this.dom.header.floating).length&&v.append(this.dom.header.floating)}else s='below';else s='in-place';(i||s!==this.s.headerMode)&&this._modeChange(s,'header',i),this._horizontal('header',l)}var H={offset:{top:0,left:0},height:0},x={offset:{top:0,left:0},height:0};if(this.c.footer&&this.dom.tfoot.length&&this.dom.tfoot.find('th, td').length){this.s.enable?!p.visible||p.tfootBottom+this.c.footerOffset<=c?r='in-place':b+p.tfootHeight+this.c.footerOffset>c&&g+this.c.footerOffset<c?(r='in',i=!0):r='above':r='in-place',(i||r!==this.s.footerMode)&&this._modeChange(r,'footer',i),this._horizontal('footer',l);var w=function(t){return{offset:t.offset(),height:t.outerHeight()}};if(H=this.dom.header.floating?w(this.dom.header.floating):w(this.dom.thead),x=this.dom.footer.floating?w(this.dom.footer.floating):w(this.dom.tfoot),d&&x.offset.top>h){var _=h-f.top,y=c+(_>-H.height?_:0)-(H.offset.top+(_<-H.height?H.height:0)+x.height);y<0&&(y=0),a.outerHeight(y),Math.round(a.outerHeight())>=Math.round(y)?t(this.dom.tfoot.parent()).addClass('fixedHeader-floating'):t(this.dom.tfoot.parent()).removeClass('fixedHeader-floating')}}if(this.dom.header.floating&&this.dom.header.floatingParent.css('left',u-l),this.dom.footer.floating&&this.dom.footer.floatingParent.css('left',u-l),void 0!==this.s.dt.settings()[0]._fixedColumns){var T=function(e,o,i){if(void 0===i){var r=t('div.dtfc-'+e+'-'+o+'-blocker');i=0===r.length?null:r.clone().css('z-index',1)}return null!==i&&('in'===s||'below'===s?i.appendTo('body').css({top:'top'===o?H.offset.top:x.offset.top,left:'right'===e?u+m-i.width():u}):i.detach()),i};this.dom.header.rightBlocker=T('right','top',this.dom.header.rightBlocker),this.dom.header.leftBlocker=T('left','top',this.dom.header.leftBlocker),this.dom.footer.rightBlocker=T('right','bottom',this.dom.footer.rightBlocker),this.dom.footer.leftBlocker=T('left','bottom',this.dom.footer.leftBlocker)}}},_scrollEnabled:function(){var t=this.s.dt.settings()[0].oScroll;return''!==t.sY||''!==t.sX},_widths:function(e){if(e&&e.placeholder){var o=t(this.s.dt.table().node()),i=t(o.parent());e.floatingParent.css('width',i[0].offsetWidth),e.floating.css('width',o[0].offsetWidth),t('colgroup',e.floating).remove();for(var s=e.placeholder.parent().find('colgroup').clone().appendTo(e.floating).find('col'),r=this.s.dt.columns(':visible').widths(),d=0;d<r.length;d++)s.eq(d).css('width',r[d])}}}),r.version='4.0.4',r.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},t.fn.dataTable.FixedHeader=r,t.fn.DataTable.FixedHeader=r,t(o).on('init.dt.dtfh',function(e,o,s){if('dt'===e.namespace){var d=o.oInit.fixedHeader,a=i.defaults.fixedHeader;if((d||a)&&!o._fixedHeader){var f=t.extend({},a,d);!1!==d&&new r(o,f)}}}),i.Api.register('fixedHeader()',function(){}),i.Api.register('fixedHeader.adjust()',function(){return this.iterator('table',function(t){var e=t._fixedHeader;e&&e.update()})}),i.Api.register('fixedHeader.enable()',function(t){return this.iterator('table',function(e){var o=e._fixedHeader;t=void 0===t||t,o&&t!==o.enabled()&&o.enable(t)})}),i.Api.register('fixedHeader.enabled()',function(){if(this.context.length){var t=this.context[0]._fixedHeader;if(t)return t.enabled()}return!1}),i.Api.register('fixedHeader.disable()',function(){return this.iterator('table',function(t){var e=t._fixedHeader;e&&e.enabled()&&e.enable(!1)})}),t.each(['header','footer'],function(t,e){i.Api.register('fixedHeader.'+e+'Offset()',function(t){var o=this.context;return void 0===t?o.length&&o[0]._fixedHeader?o[0]._fixedHeader[e+'Offset']():void 0:this.iterator('table',function(o){var i=o._fixedHeader;i&&i[e+'Offset'](t)})})}),i});
//# sourceMappingURL=dataTables.fixedHeader.min.js.map