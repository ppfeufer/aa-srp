$(document).ready(()=>{'use strict';const a=$('#table_tab-srp-links');console.log('aaSrpSettings:',aaSrpSettings);let t=0;fetchGet({url:aaSrpSettings.url.availableSrpLinks}).then(e=>{if(e){new DataTable(a,{language:aaSrpSettings.dataTables.language,data:e,layout:aaSrpSettings.dataTables.layout,ordering:aaSrpSettings.dataTables.ordering,columnControl:aaSrpSettings.dataTables.columnControl,paging:aaSrpSettings.dataTables.paging,columns:[{data:'srp_name',className:'srp-link-fleet-name'},{data:'creator',className:'srp-link-creator'},{data:{display:a=>null===a.fleet_time?'':moment(a.fleet_time).utc().format(aaSrpSettings.datetimeFormat),sort:a=>null===a.fleet_time?'':a.fleet_time},className:'srp-link-fleet-time'},{data:'fleet_type',className:'srp-link-fleet-type'},{data:'fleet_doctrine',className:'srp-link-fleet-doctrine'},{data:'aar_link',className:'srp-link-aar-link'},{data:'srp_code',render:{display:'display',filter:'sort',sort:'sort'},className:'srp-link-code'},{data:{display:a=>numberFormatter({value:a.srp_costs,locales:aaSrpSettings.locale,options:{style:'currency',currency:'ISK'}}),filter:a=>a.srp_costs,sort:a=>a.srp_costs},className:'srp-link-total-cost text-end'},{data:'srp_status',className:'srp-link-status'},{data:'pending_requests',className:'srp-link-pending-requests text-end'},{data:'actions',className:'srp-link-actions text-end'}],columnDefs:[{targets:[2,5,7,9],columnControl:_removeSearchFromColumnControl(aaSrpSettings.dataTables.columnControl,1)},{target:10,orderable:!1,width:115,columnControl:[{target:0,content:[]},{target:1,content:[]}]}],order:[[2,'asc']],createdRow:(a,e,l)=>{$(a).attr('data-row-id',l).attr('data-srp-code',e.srp_code.sort),t+=parseInt(e.srp_costs),$('.srp-dashboard-total-isk-cost-amount').html(numberFormatter({value:t,locales:aaSrpSettings.locale,options:{style:'currency',currency:'ISK'}}))},initComplete:()=>{const t=a.DataTable();_bootstrapTooltip({selector:'#table_tab-srp-links'}),t.on('draw',()=>{_bootstrapTooltip({selector:'#table_tab-srp-links'})})}})}}).catch(a=>{console.error('Error fetching SRP links:',a)});const e=$('#enable-srp-link'),l=$('#disable-srp-link'),s=$('#delete-srp-link');e.on('show.bs.modal',a=>{const t=$(a.relatedTarget),l=t.data('url'),s=t.data('name');e.find('#modal-button-confirm-enable-srp-link').attr('href',l),e.find('.modal-body').html(`${aaSrpSettings.translation.modal.enableSrpLink.body}<p class="fw-bold">${s}</p>`)}).on('hide.bs.modal',()=>{e.find('.modal-body').html('')}),l.on('show.bs.modal',a=>{const t=$(a.relatedTarget),e=t.data('url'),s=t.data('name');l.find('#modal-button-confirm-disable-srp-link').attr('href',e),l.find('.modal-body').html(`${aaSrpSettings.translation.modal.disableSrpLink.body}<p class="fw-bold">${s}</p>`)}).on('hide.bs.modal',()=>{l.find('.modal-body').html('')}),s.on('show.bs.modal',a=>{const t=$(a.relatedTarget),e=t.data('url'),l=t.data('name');s.find('#modal-button-confirm-delete-srp-link').attr('href',e),s.find('.modal-body').html(`${aaSrpSettings.translation.modal.deleteSrpLink.body}<p class="fw-bold">${l}</p>`)}).on('hide.bs.modal',()=>{s.find('.modal-body').html('')})});
//# sourceMappingURL=srp-links.min.js.map