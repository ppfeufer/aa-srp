$(document).ready(()=>{'use strict';const t=$('#table_tab-user-srp-requests');let e=0;fetchGet({url:aaSrpSettings.url.userSrpRequests}).then(a=>{if(a){new DataTable(t,{language:aaSrpSettings.dataTables.language,data:a,layout:aaSrpSettings.dataTables.layout,ordering:aaSrpSettings.dataTables.ordering,columnControl:aaSrpSettings.dataTables.columnControl,columns:[{data:{display:t=>null===t.request_time?'':moment(t.request_time).utc().format(aaSrpSettings.datetimeFormat),filter:t=>t.request_time,sort:t=>t.request_time},className:'srp-request-time'},{data:{display:t=>t.character_html.display,filter:t=>t.character_html.sort,sort:t=>t.character_html.sort},className:'srp-request-character'},{data:{display:t=>t.fleet_name_html.display,filter:t=>t.fleet_name_html.sort,sort:t=>t.fleet_name_html.sort},className:'srp-request-fleet-details'},{data:{display:t=>t.ship_html.display,filter:t=>t.ship_html.sort,sort:t=>t.ship_html.sort},className:'srp-request-ship'},{data:{display:t=>numberFormatter({value:t.zkb_loss_amount,locales:aaSrpSettings.locale,options:{style:'currency',currency:'ISK'}}),filter:t=>t.zkb_loss_amount,sort:t=>t.zkb_loss_amount},className:'srp-request-zkb-loss-amount text-end'},{data:{display:t=>numberFormatter({value:t.payout_amount,locales:aaSrpSettings.locale,options:{style:'currency',currency:'ISK'}}),filter:t=>t.payout_amount,sort:t=>t.payout_amount},className:'srp-request-payout text-end'},{data:'request_status_icon',className:'srp-request-status text-end'}],columnDefs:[{target:0,columnControl:_removeSearchFromColumnControl(aaSrpSettings.dataTables.columnControl,1)},{targets:[4,5,6],orderable:!1,columnControl:[{target:0,content:[]},{target:1,content:[]}]},{target:6,width:90}],order:[[0,'desc']],createdRow:(t,a,s)=>{$(t).attr('data-row-id',s),$(t).attr('data-srp-request-code',a.request_code),e+=parseInt(a.payout_amount),$('.srp-dashboard-user-isk-cost-amount').html(numberFormatter({value:e,locales:aaSrpSettings.locale,options:{style:'currency',currency:'ISK'}}))},initComplete:()=>{const e=t.DataTable();_bootstrapTooltip({selector:'#table_tab-user-srp-requests'}),e.on('draw',()=>{_bootstrapTooltip({selector:'#table_tab-user-srp-requests'})})}})}}).catch(t=>{console.error('Error fetching SRP request data:',t)});const a=$('#srp-request-details');a.on('show.bs.modal',t=>{const e=$(t.relatedTarget).data('link');fetchGet({url:e,responseIsJson:!1}).then(t=>{a.find('.modal-body').html(t)}).catch(t=>{console.log(`Error: ${t.message}`)})}).on('hide.bs.modal',()=>{a.find('.modal-body').text('')})});
//# sourceMappingURL=my-srp-requests.min.js.map